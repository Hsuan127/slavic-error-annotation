(()=>{"use strict";var t={2242:(t,e,n)=>{n(6992),n(8674),n(9601),n(7727);var r=n(5010),o=n(3396);function i(t,e,n,r,i,s){var a=(0,o.up)("HelloWorld");return(0,o.wg)(),(0,o.j4)(a,{msg:"Welcome to Your Vue.js App"})}n(8309);var s=n(7139);const a=n.p+"img/loupe.4d803127.png",c=n.p+"img/fi-sr-disk.02ec2648.svg",l=n.p+"img/fi-sr-comment-check.294596f1.svg",u=n.p+"img/fi-sr-edit.9bedc2a1.svg",d=n.p+"img/fi-sr-undo.dc53a51c.svg",h=n.p+"img/fi-sr-redo.6550df49.svg";var p=function(t){return(0,o.dD)("data-v-1e120680"),t=t(),(0,o.Cn)(),t},f=(0,o.uE)('<head data-v-1e120680><link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" data-v-1e120680><link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.1.0/css/buttons.dataTables.min.css" data-v-1e120680><link href="https://fonts.googleapis.com/css2?family=News+Cycle&amp;display=swap" rel="stylesheet" data-v-1e120680><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" data-v-1e120680><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" data-v-1e120680><link rel="preconnect" href="https://fonts.googleapis.com" data-v-1e120680><link rel="stylesheet" type="text/css" href="style.css" data-v-1e120680><link rel="icon" href="logo.png" data-v-1e120680></head>',1),v=(0,o.uE)('<header data-v-1e120680><div class="inner" data-v-1e120680><div class="logo" data-v-1e120680><div data-v-1e120680><img src="logo.png" alt="logo" data-v-1e120680></div></div><nav data-v-1e120680><li data-v-1e120680><span data-v-1e120680>LEARNER CORPUS OF SLAVIC LANGUAGES (RUSSIAN)</span></li><li data-v-1e120680><span data-v-1e120680><a href="http://lcsl.nccu.edu.tw/" data-v-1e120680><i class="fas fa-home" data-v-1e120680></i> Home</a></span></li><li data-v-1e120680><span data-v-1e120680><a href="http://lcsl.nccu.edu.tw:3838/sample-apps/searchCorpus/Russian.Rmd#section-search" data-v-1e120680><i class="fas fa-search" data-v-1e120680></i> Search</a></span></li><li data-v-1e120680><span data-v-1e120680><a href="http://lcsl.nccu.edu.tw:3838/sample-apps/searchCorpus/Russian.Rmd#section-advanced-filter" data-v-1e120680><i class="fas fa-filter" data-v-1e120680></i> Advanced Filter</a></span></li><li data-v-1e120680><span data-v-1e120680><a href="http://lcsl.nccu.edu.tw:8080/search/" data-v-1e120680><i class="fab fa-searchengin" data-v-1e120680></i> Lexical/Grammatical Search</a></span></li><li data-v-1e120680><span data-v-1e120680><a href="" data-v-1e120680><i class="fab error-anno" data-v-1e120680></i> Error Annotation</a></span></li></nav></div></header>',1),g={class:"main-content"},w={id:"toolbar"},m={id:"label_show"},_=p((function(){return(0,o._)("img",{src:a,class:"pic"},null,-1)})),C=[_],x=p((function(){return(0,o._)("img",{src:c,class:"pic"},null,-1)})),y=[x],b=p((function(){return(0,o._)("img",{src:l,class:"pic"},null,-1)})),E=[b],k=p((function(){return(0,o._)("img",{src:u,class:"pic"},null,-1)})),R=[k],S=p((function(){return(0,o._)("img",{src:d,class:"pic"},null,-1)})),D=[S],O=p((function(){return(0,o._)("img",{src:h,class:"pic"},null,-1)})),I=[O],T={id:"selectArea"},A={key:1,class:"errordetails"},P=p((function(){return(0,o._)("option",{value:"",disabled:"",selected:""},"Select Error Type",-1)})),z=["value"],F=p((function(){return(0,o._)("i",{class:"material-icons",style:{color:"white"}},"check",-1)})),L=[F],j={key:2,class:"popup"},U={class:"popup-content"},V=p((function(){return(0,o._)("h3",null,"Revised Content",-1)})),Z={class:"errorlist",id:"el"},M={key:0,class:"errorcounts"},q={class:"errorname"},B={class:"errorcontent"},H={class:"originalword"},K={class:"fixedword"},Y=p((function(){return(0,o._)("footer",{class:"bottomBar"},[(0,o._)("b",null,"NCCU LCSL © 2023.")],-1)}));function N(t,e,n,i,a,c){var l=this;return(0,o.wg)(),(0,o.iD)(o.HY,null,[f,(0,o._)("body",null,[v,(0,o._)("div",null,[(0,o._)("div",g,[(0,o._)("div",w,[(0,o._)("label",m,(0,s.zw)(a.doc_name),1),(0,o.wy)((0,o._)("textarea",{id:"label_input",rows:"1","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.doc_name_input=t}),onkeydown:"if(event.keyCode == 13) return false;"}," hello ",512),[[r.nr,a.doc_name_input]]),(0,o._)("button",{id:"searchButton",onClick:e[1]||(e[1]=function(t){return c.mySearchLabel()}),class:"topbutton"},C),(0,o._)("button",{id:"saveButton",onClick:e[2]||(e[2]=function(t){return c.openPopup()}),class:"topbutton"},y),1===a.editOrOK?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[3]||(e[3]=function(t){return c.transContent()}),class:"topbutton"},E)):(0,o.kq)("",!0),0===a.editOrOK?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:e[4]||(e[4]=function(t){return c.editContent()}),class:"topbutton"},R)):(0,o.kq)("",!0),(0,o._)("button",{onClick:e[5]||(e[5]=function(t){return c.getRowData(0)}),class:"topbutton"},D),(0,o._)("button",{onClick:e[6]||(e[6]=function(t){return c.getRowData(1)}),class:"topbutton"},I)]),0===a.view?(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:0,id:"textarea_input","onUpdate:modelValue":e[7]||(e[7]=function(t){return a.rawContent=t})},null,512)),[[r.nr,a.rawContent]]):(0,o.kq)("",!0),(0,o._)("div",T,[1===a.view?((0,o.wg)(),(0,o.iD)("label",{key:0,class:"content",onMouseup:e[8]||(e[8]=function(){return c.getSelection&&c.getSelection.apply(c,arguments)})},(0,s.zw)(a.rawContent),33)):(0,o.kq)("",!0),1===a.view?((0,o.wg)(),(0,o.iD)("div",A,[(0,o.wy)((0,o._)("select",{style:(0,s.j5)({top:a.menuY+"px",left:a.menuX+"px"}),"onUpdate:modelValue":e[9]||(e[9]=function(e){return t.selectedError=e}),class:"errordropdown"},[P,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.errorType,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t.id,value:t.name},(0,s.zw)(t.name),9,z)})),128))],4),[[r.bM,t.selectedError]]),(0,o.wy)((0,o._)("input",{placeholder:"corrected version","onUpdate:modelValue":e[10]||(e[10]=function(t){return a.fixedword=t}),class:"errorcorrectbox"},null,512),[[r.nr,a.fixedword]]),(0,o._)("button",{onClick:e[11]||(e[11]=function(t){return c.newError()}),class:"errorbutton"},L)])):(0,o.kq)("",!0),a.showPopup?((0,o.wg)(),(0,o.iD)("div",j,[(0,o._)("div",U,[V,(0,o._)("p",null,(0,s.zw)(a.updatedText),1),(0,o._)("button",{onClick:e[12]||(e[12]=function(t){return c.cancelPopup()})},"cancel"),(0,o._)("button",{onClick:e[13]||(e[13]=function(t){return c.saveContent()})},"confirm to save")])])):(0,o.kq)("",!0)]),(0,o._)("button",{onClick:e[14]||(e[14]=function(t){c.exportCSV(l.csv_error,"error.csv","text/csv;charset=utf-8;")})},"Export Error List"),(0,o._)("button",{onClick:e[15]||(e[15]=function(t){c.exportCSV(l.csv_revision,"revision.csv","text/csv;charset=utf-8;")})},"Export Revisions")]),(0,o._)("div",Z,[(0,o.Uk)(" Errors   "),!1===a.no_error?((0,o.wg)(),(0,o.iD)("label",M,(0,s.zw)(a.errors.length),1)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.errors,(function(t,e){return(0,o.wg)(),(0,o.iD)("div",{class:"errorbox",key:e},[(0,o._)("span",{class:"errortype",style:(0,s.j5)({color:a.errordict[t.errorType]})},"●",4),(0,o.Uk)(),(0,o._)("span",q,(0,s.zw)(t.errorType),1),(0,o._)("p",B,[(0,o._)("span",H,(0,s.zw)(t.oriContent),1),(0,o.Uk)(" -> "),(0,o._)("span",K,(0,s.zw)(t.revisedContent),1)])])})),128))])]),Y])],64)}var W=n(124),G=n(6347),X=n(8534),J=(n(6647),n(3710),n(1539),n(9714),n(2772),n(7658),n(4916),n(7601),n(9600),n(1249),n(5306),n(8757),n(8783),n(3948),n(285),n(1637),n(3087)),Q=n(2833),$=function(){function t(e,n,r,o){(0,J.Z)(this,t),this.absolutePosition=e,this.oriContent=n,this.revisedContent=r,this.errorType=o}return(0,Q.Z)(t,[{key:"getAbsolutePosition",value:function(){return this.absolutePosition}},{key:"getOriginalContent",value:function(){return this.oriContent}},{key:"getRevisedContent",value:function(){return this.revisedContent}},{key:"getErrorType",value:function(){return this.errorType}}]),t}(),tt=n(6026),et=n.n(tt);const nt=n.p+"static/data/data_Russian.881b2e5d.csv",rt=n.p+"static/data/data_Czech.677235a4.csv";var ot=[],it=window.getSelection();console.log(it.toString());var st="",at={x1:0,x2:0,y1:0,y2:0},ct=new Range,lt={"Spelling Error":"#FE5F55","Syntax Error":"#59B3D9","Morphological Error":"#659157","Lexical Error":"#84569F","Pronunciation Error":"#EEC643","Punctuation Error":"#de177a","Stylistic Error":"#FAA00F","Logical Error":"#4F3824","Factual Error":"#2A4494"},ut=0,dt=0,ht=[],pt=0;function ft(t){return vt.apply(this,arguments)}function vt(){return vt=(0,X.Z)((0,W.Z)().mark((function t(e){var n,r;return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Promise((function(t,n){et().parse(e,{download:!0,header:!0,dynamicTyping:!0,complete:function(e){t(e)},error:function(t){n(t)}})})),t.next=3,n;case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)}))),vt.apply(this,arguments)}function gt(){return wt.apply(this,arguments)}function wt(){return wt=(0,X.Z)((0,W.Z)().mark((function t(){return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadCSVfile(nt);case 2:return this.RusData=t.sent,this.RusID=this.RusData.map((function(t){return t.id})),t.next=6,this.loadCSVfile(rt);case 6:this.CzeData=t.sent,this.CzeID=this.CzeData.map((function(t){return t.id})),this.rawContent=this.RusData[0].text,this.doc_name=this.RusData[0].id;case 10:case"end":return t.stop()}}),t,this)}))),wt.apply(this,arguments)}function mt(t){if("R"===this.doc_name[0]){if(0===t){if(!(this.currentRowIndex>0))return;this.currentRowIndex--}else{if(!(this.currentRowIndex<this.RusData.length))return;this.currentRowIndex++}this.rawContent=this.RusData[this.currentRowIndex].text,this.oriContent=this.rawContent,this.doc_name=this.RusData[this.currentRowIndex].id}else{if(0===t){if(!(this.currentRowIndex>0))return;this.currentRowIndex--}else{if(!(this.currentRowIndex<this.CzeData.length))return;this.currentRowIndex++}this.rawContent=this.CzeData[this.currentRowIndex].text,this.oriContent=this.rawContent,this.doc_name=this.CzeData[this.currentRowIndex].id}}function _t(){this.isOri?(this.isOri=!1,this.rawContent=this.tempContent):(this.isOri=!0,this.tempContent=this.rawContent+"hello")}function Ct(){this.editOrOK=0,this.ori_content=this.rawContent,this.view=1,console.log(this.view),this.view=1}function xt(){var t=window.confirm("編輯語料會清除已標記錯誤，確定要編輯嗎？");1==t&&(this.errors=[],this.no_error=!0,this.editOrOK=1,this.view=0,console.log(this.view),this.view=0,this.rawContent=this.ori_content,ht=[])}function yt(){if("R"===this.doc_name_input[0]){if(-1===this.RusID.indexOf(this.doc_name_input))return alert("no such document"),void(this.doc_name_input="");this.doc_name=this.doc_name_input,this.rawContent=this.RusData[this.RusID.indexOf(this.doc_name)].text,this.ori_content=this.rawContent,this.doc_name_input="",this.currentRowIndex=this.RusID.indexOf(this.doc_name)}else{if("C"!==this.doc_name_input[0])return alert("no such document"),void(this.doc_name_input="");if(-1===this.CzeID.indexOf(this.doc_name_input))return alert("no such document"),void(this.doc_name_input="");this.doc_name=this.doc_name_input,this.rawContent=this.CzeData[this.CzeID.indexOf(this.doc_name)].text,this.ori_content=this.rawContent,this.doc_name_input="",this.currentRowIndex=this.CzeID.indexOf(this.doc_name)}}function bt(){this.RusData[this.currentRowIndex].text,this.RusData[this.currentRowIndex].text,this.showPopup=!1,this.csv_revision.push([this.doc_name,this.rawContent,this.updatedText]),this.errors=[],pt=0,ht=[]}function Et(){}function kt(){}function Rt(){if(ht.push({original:st,replacement:this.fixedword,start:ut,end:dt}),""===this.selectedError||""===this.fixedword||""===this.selectedText)alert("missing value");else{var t=new $(at,st,this.fixedword,this.selectedError);this.errors.push(t),console.log(ot),this.csv_error.push([this.doc_name,this.selectedError,st,this.fixedword]);var e=document.createElement("span");e.style.textDecoration="underline",e.style.textDecorationThickness="3px",e.style.textDecorationColor=lt[this.selectedError],e.style.textUnderlineOffset="4px",ct.surroundContents(e),this.no_error=!1,this.menuX=at.x1,this.menuY=at.y1,this.isMenuVisible=!0,this.fixedword="",this.selectedError=""}}function St(){this.showPopup=!0;var t=this.rawContent.toString();this.updatedText=t;var e,n=0,r=(0,G.Z)(ht);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.start+n+pt,s=o.end+n+pt;this.updatedText=this.updatedText.substring(0,i)+o.replacement+this.updatedText.substring(s),n+=o.replacement.length-o.original.length,pt=s}}catch(a){r.e(a)}finally{r.f()}console.log(["original",ut,dt])}function Dt(){this.showPopup=!1,pt=0}function Ot(t){var e=t.charCodeAt(0);return e>=1024&&e<=1279}function It(t){var e=t.charCodeAt(0);return e>=256&&e<=383}function Tt(t){while(t.startOffset>0&&(At(t.toString()[0])||Ot(t.toString()[0])||It(t.toString()[0])))t.setStart(t.startContainer,t.startOffset-1);t.startOffset>0&&" "===t.toString()[0]&&t.setStart(t.startContainer,t.startOffset+1);while(t.endOffset<t.endContainer.length&&(At(t.toString()[t.toString().length-1])||Ot(t.toString()[t.toString().length-1])||It(t.toString()[t.toString().length-1])))t.setEnd(t.endContainer,t.endOffset+1);return t.endOffset<t.endContainer.length&&" "===t.toString()[t.toString().length-1]&&t.setEnd(t.endContainer,t.endOffset-1),t}function At(t){return/\w/.test(t)}function Pt(){var t=window.getSelection();ct=t.getRangeAt(0),console.log(ct);var e=ct.getClientRects();if(!e.length)return null;var n=e[0],r=e[e.length-1];at={x1:n.left,y1:n.top,x2:r.right,y2:r.bottom},Tt(ct),ut=ct.startOffset,dt=ct.endOffset,st=t.toString(),st=t.toString()}function zt(t){return t.map((function(t){return t.map(String).map((function(t){return t.replaceAll('"','""')})).map((function(t){return'"'.concat(t,'"')})).join(",")})).join("\r\n")}function Ft(t,e,n){var r=zt(t),o=new Blob([r],{type:n}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.setAttribute("download",e),s.click()}const Lt={name:"HelloWorld",props:{msg:String},data:function(){return{rawContent:"",ori_content:"",view:1,editOrOK:0,isOri:!1,tempContent:"",no_error:!0,selectedfError:"",errorType:[{id:"1",name:"Spelling Error",code:"sp"},{id:"2",name:"Syntax Error",code:"sy"},{id:"3",name:"Morphological Error",code:"me"},{id:"4",name:"Lexical Error",code:"le"},{id:"5",name:"Pronunciation Error",code:"pr"},{id:"6",name:"Punctuation Error",code:"pu"},{id:"7",name:"Stylistic Error",code:"st"},{id:"8",name:"Logical Error",code:"lg"},{id:"9",name:"Factual Error",code:"fe"}],menuX:0,menuY:0,isMenuVisible:!1,fixedword:"",errors:[],errordict:{"Spelling Error":"#FE5F55","Syntax Error":"#59B3D9","Morphological Error":"#659157","Lexical Error":"#84569F","Pronunciation Error":"#EEC643","Punctuation Error":"#de177a","Stylistic Error":"#FAA00F","Logical Error":"#4F3824","Factual Error":"#2A4494"},RusData:[],CzeData:[],RusID:[],CzeID:[],doc_name:"",doc_name_input:"",currentRowIndex:0,csv_error:[["id","error_type","error_original","error_fixed"]],updatedText:"",showPopup:!1,csv_revision:[["id","original_content","revised_content"]]}},mounted:function(){this.preprocessText()},methods:{transContent:Ct,saveContent:bt,preStep:Et,nextStep:kt,getSelection:Pt,editContent:xt,seeOri:_t,newError:Rt,isSlavicLetter:Ot,expandRangeToWordBoundaries:Tt,loadCSVfile:ft,preprocessText:gt,mySearchLabel:yt,getRowData:mt,exportCSV:Ft,arrayToCsv:zt,openPopup:St,cancelPopup:Dt}};var jt=n(89);const Ut=(0,jt.Z)(Lt,[["render",N],["__scopeId","data-v-1e120680"]]),Vt=Ut,Zt={name:"App",components:{HelloWorld:Vt}},Mt=(0,jt.Z)(Zt,[["render",i]]),qt=Mt;(0,r.ri)(qt).mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,(()=>{var t=[];n.O=(e,r,o,i)=>{if(!r){var s=1/0;for(u=0;u<t.length;u++){for(var[r,o,i]=t[u],a=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,o,i]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{n.p="/slavic-error-annotation/"})(),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,i,[s,a,c]=r,l=0;if(s.some((e=>0!==t[e]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var u=c(n)}for(e&&e(r);l<s.length;l++)i=s[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunkslavic_error_annotation"]=self["webpackChunkslavic_error_annotation"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(2242)));r=n.O(r)})();
//# sourceMappingURL=app.c598c9e5.js.map